<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AccesoBarrio ğŸŒ</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/estilos.css">
</head>
<body>
    <div id="loading-overlay">
        <div class="spinner"></div>
        <p>Cargando mapa inclusivo...</p>
    </div>

    <button id="btn-voz" onclick="toggleVoz()">ğŸ”‡</button>

    <main id="pantalla-inicio">
        <h1>AccesoBarrio ğŸŒ</h1>
        <p>Â¿QuÃ© necesitas saber hoy?</p>
        <div class="buscador-inicio-wrapper">
            <input type="text" id="input-inicio" placeholder="Busca un sitio..." onkeypress="if(event.key === 'Enter') buscarDesdeInicio()">
            <button onclick="buscarDesdeInicio()">ğŸ”</button>
        </div>
        <nav class="grid-categorias">
            <button class="boton-cat" onclick="cargarResultados('Rampa')"><span class="emoji">â™¿</span><span>Movilidad</span></button>
            <button class="boton-cat" onclick="cargarResultados('Calma')"><span class="emoji">ğŸ§ </span><span>Calma</span></button>
            <button class="boton-cat" onclick="cargarResultados('Braille')"><span class="emoji">ğŸ‘ï¸</span><span>Visual</span></button>
            <button class="boton-cat" onclick="cargarResultados(null)"><span class="emoji">ğŸ—ºï¸</span><span>Todo</span></button>
        </nav>
        <button class="boton-anadir-home" onclick="abrirFormulario()">+ AÃ±adir Sitio</button>
    </main>

    <div id="pantalla-resultados">
        <div class="barra-superior-pro">
            <button onclick="location.reload()" class="btn-circular">â¬…</button>
            <div style="display: flex; gap: 8px;">
                <button class="btn-lista-pill" onclick="abrirModalFiltros()">âš™ï¸ Filtros</button>
                <button class="btn-lista-pill" onclick="alternarVista()" id="btn-vista">ğŸ“‹ Ver Lista</button>
            </div>
        </div>
        
        <div id="contenedor-mapa-pro">
            <div class="buscador-mapa-flotante">
                <input type="text" id="buscador-texto" placeholder="Buscar en el mapa..." onkeyup="buscarTexto()">
            </div>
            <div id="mapa"></div>
        </div>

        <div id="vista-lista" style="display: none;">
            <div class="buscador-zona-wrapper">
                <input type="text" id="inputBuscadorZona" placeholder="ğŸ” Filtrar por ciudad (ej: Madrid, San NicolÃ¡s...)" onkeyup="filtrarPorZona()">
                <ul id="sugerenciasZona" class="sugerencias-lista"></ul>
            </div>
            <div id="contenedor-items-lista">
                </div>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="js/app.js"></script>
</body>
</html>