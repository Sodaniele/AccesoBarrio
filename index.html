<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AccesoBarrio ğŸŒ</title>

    <meta property="og:title" content="AccesoBarrio ğŸŒ - Mapeando la InclusiÃ³n" />
    <meta property="og:description" content="Una Web App colaborativa diseÃ±ada para mejorar la autonomÃ­a de personas con movilidad reducida. Â¡SÃºmate al cambio!" />
    <meta property="og:image" content="https://images.unsplash.com/photo-1551288049-bebda4e38f71?q=80&w=1000&auto=format&fit=crop" /> 
    <meta property="og:url" content="https://tu-app-en-render.com" />
    <meta property="og:type" content="website" />
    
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='256' height='256' viewBox='0 0 24 24'%3E%3Ccircle cx='12' cy='12' r='12' fill='%23008080'/%3E%3Cpath fill='%23fff' d='M20.5 6c-2.61.7-5.67 1-8.5 1s-5.89-.3-8.5-1L3 8c1.86.5 4 .83 6 1v13h2v-6h2v6h2V9c2-.17 4.14-.5 6-1l-.5-2zM12 6c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 2 2z'/%3E%3C/svg%3E">
    <link rel="apple-touch-icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='256' height='256' viewBox='0 0 24 24'%3E%3Ccircle cx='12' cy='12' r='12' fill='%23008080'/%3E%3Cpath fill='%23fff' d='M20.5 6c-2.61.7-5.67 1-8.5 1s-5.89-.3-8.5-1L3 8c1.86.5 4 .83 6 1v13h2v-6h2v6h2V9c2-.17 4.14-.5 6-1l-.5-2zM12 6c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 2 2z'/%3E%3C/svg%3E">
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/estilos.css">
    <link rel="manifest" href="/manifest.json">
</head>
<body>

    <div id="loading-overlay">
        <div class="spinner"></div>
        <p style="margin-top: 20px; font-weight: 600; color: #006D77; font-family: 'Poppins';">Cargando mapa inclusivo...</p>
    </div>

    <button id="btn-voz" onclick="toggleVoz()">ğŸ”‡</button>

    <main id="pantalla-inicio">
        <h1>AccesoBarrio ğŸŒ</h1>
        <p>Â¿QuÃ© necesitas saber hoy?</p>
        
        <div class="buscador-inicio-wrapper">
            <input type="text" id="input-inicio" placeholder="Busca un sitio (ej: Bar Pepe)..." onkeypress="if(event.key === 'Enter') buscarDesdeInicio()">
            <button onclick="buscarDesdeInicio()">ğŸ”</button>
        </div>

        <nav class="grid-categorias">
            <button class="boton-cat cat-movilidad" onclick="cargarResultados('Rampa')">
                <span class="emoji">â™¿</span><span class="txt">Movilidad</span>
            </button>
            <button class="boton-cat cat-calma" onclick="cargarResultados('Calma')">
                <span class="emoji">ğŸ§ </span><span class="txt">Calma</span>
            </button>
            <button class="boton-cat cat-visual" onclick="cargarResultados('Braille')">
                <span class="emoji">ğŸ‘ï¸</span><span class="txt">Visual</span>
            </button>
            <button class="boton-cat cat-todo" onclick="cargarResultados(null)">
                <span class="emoji">ğŸ—ºï¸</span><span class="txt">Todo</span>
            </button>
        </nav>

        <button class="boton-anadir-home" onclick="abrirFormulario()">+ AÃ±adir Sitio</button>

        <div class="firma-autor">
            <p>Â© 2026 SofÃ­a Fabiana Daniele | by Proyecto25</p>
        </div>
    </main>

    <div id="pantalla-resultados">
        <div class="barra-superior-pro">
            <button onclick="location.reload()" class="btn-circular">â¬…</button>
            <button class="btn-lista-pill" onclick="alternarVista()" id="btn-vista">ğŸ“‹ Ver Lista</button>
        </div>
        
        <div id="contenedor-mapa-pro">
            <div class="buscador-mapa-flotante">
                <input type="text" id="buscador-texto" placeholder="Buscar en el mapa..." onkeyup="buscarTexto()">
            </div>
            <div id="mapa"></div>
        </div>
        <div id="vista-lista"></div>

        <div class="firma-autor">
            <p>Â© 2026 SofÃ­a Fabiana Daniele | by Proyecto25</p>
        </div>
    </div>

    <div id="modal-anadir">
        <div class="contenido-modal">
            <h2>ğŸ“ Registrar Espacio</h2>
            <div class="scroll-form">
                <input type="text" id="nombre" placeholder="Nombre del lugar (ej: Centro Cultural)">
                <textarea id="descripcion" placeholder="Detalles de accesibilidad..."></textarea>
                
                <p class="titulo-seccion">Opciones de Accesibilidad:</p>
                <div class="grid-checks-pro">
                    <label title="Rampa o entrada a nivel"><input type="checkbox" class="cat-check" value="Rampa"> â™¿ Rampa / Nivel</label>
                    <label title="BaÃ±o amplio con barras"><input type="checkbox" class="cat-check" value="BaÃ±o"> ğŸš» BaÃ±o Adaptado</label>
                    <label title="Espacio con poco ruido y luces suaves"><input type="checkbox" class="cat-check" value="Calma"> ğŸ§  Espacio Calmo</label>
                    <label title="SeÃ±alÃ©tica clara con pictogramas"><input type="checkbox" class="cat-check" value="Pictogramas"> ğŸ§© Pictogramas</label>
                    <label title="MenÃº en Braille o QR accesible"><input type="checkbox" class="cat-check" value="Braille"> ğŸ‘ï¸ MenÃº Braille/QR</label>
                    <label title="Piso con texturas para bastÃ³n"><input type="checkbox" class="cat-check" value="Podotactil"> ğŸ‘£ Piso PodotÃ¡ctil</label>
                    <label title="Personal que conoce Lengua de SeÃ±as"><input type="checkbox" class="cat-check" value="LSA"> ğŸ‘‹ Personal LSA</label>
                    <label title="Cuenta con aro magnÃ©tico para audÃ­fonos"><input type="checkbox" class="cat-check" value="Aro"> ğŸ‘‚ Aro MagnÃ©tico</label>
                </div>

                <p class="titulo-seccion">Escribe la direcciÃ³n exacta:</p>
                <div style="display: flex; gap: 8px; margin-bottom: 15px;">
                    <input type="text" id="input-direccion" placeholder="Ej: Calle Chile 4, Las Rozas" style="flex: 1; margin-bottom: 0;">
                    <button onclick="buscarDireccion()" style="background: var(--teal); color: white; border: none; border-radius: 15px; padding: 0 15px; cursor: pointer; font-size: 18px;">ğŸ”</button>
                </div>

                <p class="titulo-seccion">O ajusta el pin en el mapa:</p>
                <div id="mapa-seleccion"></div>
                
                <button class="btn-principal" onclick="guardarSitio()">Guardar Sitio Accesible</button>
                <button class="btn-secundario" onclick="cerrarModal()">Cerrar sin guardar</button>
            </div>
        </div>
    </div>

    <div id="accesibilidad-widget">
        <button id="btn-accesibilidad-flotante" onclick="toggleMenuAccesibilidad()" title="Opciones de accesibilidad">
            <span style="font-size: 24px;">â™¿</span>
        </button>

        <div id="menu-accesibilidad" class="menu-oculto">
            <h3>Accesibilidad</h3>
            <button onclick="ajustarTexto(1.1)">â• Aumentar texto</button>
            <button onclick="ajustarTexto(0.9)">â– Disminuir texto</button>
            <button onclick="toggleFiltro('escala-grises')">ğŸŒ“ Escala de grises</button>
            <button onclick="toggleFiltro('alto-contraste')">ğŸ‘ï¸ Alto contraste</button>
            <button onclick="toggleFiltro('fuente-legible')">ğŸ”¤ Fuente legible</button>
            <button onclick="restablecerAccesibilidad()" class="btn-reset">ğŸ”„ Restablecer</button>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="js/app.js"></script>
</body>
</html>